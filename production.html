<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>YChart Editor - Interactive Org Chart</title>
    
    <!-- Load YChart Editor CSS and JS from dist -->
    <link rel="stylesheet" href="./dist/ychart-editor.css">
    <script src="./dist/ychart-editor.js"></script>

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            height: 100vh;
            overflow: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .app-container {
            height: 100vh;
            display: flex;
            flex-direction: column;
        }

        header {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);
            backdrop-filter: blur(10px);
            padding: 1.5rem 2rem;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            z-index: 10;
            flex-shrink: 0;
            position: relative;
        }

        header::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(
                90deg,
                #ff0000,
                #ff7f00,
                #ffff00,
                #00ff00,
                #0000ff,
                #4b0082,
                #9400d3,
                #ff0000
            );
            background-size: 200% 100%;
            animation: rainbow 3s linear infinite;
        }

        @keyframes rainbow {
            0% {
                background-position: 0% 0%;
            }
            100% {
                background-position: 200% 0%;
            }
        }

        header h1 {
            font-size: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #ffffff 0%, #a8dadc 50%, #f1faee 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 0.5rem;
        }

        header p {
            color: #b0c4de;
            font-size: 1rem;
        }

        .ychart-wrapper {
            flex: 1;
            background: white;
            margin: 1rem;
            border-radius: 12px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            min-height: 0;
        }
        
        #ychart-container {
            flex: 1;
            overflow: hidden;
            min-height: 0;
        }
        
        /* Ensure CodeMirror editor can scroll properly */
        #ychart-editor {
            height: 100% !important;
            overflow: hidden !important;
        }
        
        #ychart-editor .cm-editor {
            height: 100% !important;
        }
        
        #ychart-editor .cm-scroller {
            overflow-y: auto !important;
            max-height: 100% !important;
        }

        .footer {
            text-align: center;
            padding: 1rem;
            color: white;
            font-size: 0.9rem;
            opacity: 0.9;
        }

        .footer a {
            color: white;
            text-decoration: none;
            font-weight: 600;
        }

        .footer a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <header>
            <h1>üåü YChart Editor</h1>
            <p>Interactive Organizational Chart Editor with Real-time YAML Editing</p>
        </header>

        <div class="ychart-wrapper">
            <div id="ychart-container"></div>
        </div>

        <div class="footer">
            Powered by YChart Editor | <a href="https://orgchart.opensource.mieweb.org/docs" target="_blank">Documentation</a> | <a href="https://github.mieweb.com/mieweb/YChart" target="_blank">View on GitHub</a>
        </div>
    </div>

    <script>
        // Generate impressive demo data
        const yamlData = `---
options:
  nodeWidth: 250
  nodeHeight: 140
  childrenMargin: 60
  compactMarginBetween: 40
  compactMarginPair: 35
  neighbourMargin: 25
schema:
  id: number | required
  name: string | required
  title: string | required
  department: string | optional
  email: string | required
  phone: string | optional
  location: string | optional
  supervisor: string | optional
card:
  - div:
      style: font-size:16px;font-weight:700;color:#1a202c;margin-bottom:6px;letter-spacing:-0.5px;
      content: $name$
  - div:
      style: font-size:11px;color:#667eea;font-weight:600;text-transform:uppercase;letter-spacing:0.5px;margin-bottom:8px;
      content: $title$
  - div:
      style: font-size:12px;color:#4a5568;margin-bottom:4px;
      children:
        - span:
            style: font-weight:600;color:#2d3748;
            content: "üìß "
        - span:
            style: color:#667eea;
            content: $email$
  - div:
      style: font-size:11px;color:#718096;margin-bottom:3px;
      children:
        - span:
            style: font-weight:600;
            content: "üìç "
        - span:
            content: $location$
  - div:
      style: font-size:10px;color:#a0aec0;margin-top:6px;padding-top:6px;border-top:1px solid #e2e8f0;
      children:
        - span:
            style: font-weight:600;
            content: "Reports to: "
        - span:
            content: $supervisor$
---

- id: 1
  name: Sarah Chen
  title: Chief Executive Officer
  department: Executive
  email: sarah.chen@company.com
  phone: +1 (555) 100-0001
  location: San Francisco, CA
  supervisor: Board of Directors
  parentId: null

- id: 2
  name: Michael Rodriguez
  title: Chief Technology Officer
  department: Technology
  email: michael.rodriguez@company.com
  phone: +1 (555) 100-0002
  location: San Francisco, CA
  supervisor: Sarah Chen
  parentId: 1

- id: 3
  name: Emily Watson
  title: Chief Financial Officer
  department: Finance
  email: emily.watson@company.com
  phone: +1 (555) 100-0003
  location: New York, NY
  supervisor: Sarah Chen
  parentId: 1

- id: 4
  name: David Kim
  title: Chief Marketing Officer
  department: Marketing
  email: david.kim@company.com
  phone: +1 (555) 100-0004
  location: Los Angeles, CA
  supervisor: Sarah Chen
  parentId: 1

- id: 5
  name: Jennifer Martinez
  title: VP of Engineering
  department: Technology
  email: jennifer.martinez@company.com
  phone: +1 (555) 100-0005
  location: San Francisco, CA
  supervisor: Michael Rodriguez
  parentId: 2

- id: 6
  name: Robert Taylor
  title: VP of Product
  department: Technology
  email: robert.taylor@company.com
  phone: +1 (555) 100-0006
  location: San Francisco, CA
  supervisor: Michael Rodriguez
  parentId: 2

- id: 7
  name: Lisa Anderson
  title: VP of Data Science
  department: Technology
  email: lisa.anderson@company.com
  phone: +1 (555) 100-0007
  location: Seattle, WA
  supervisor: Michael Rodriguez
  parentId: 2

- id: 8
  name: James Wilson
  title: Controller
  department: Finance
  email: james.wilson@company.com
  phone: +1 (555) 100-0008
  location: New York, NY
  supervisor: Emily Watson
  parentId: 3

- id: 9
  name: Maria Garcia
  title: Director of FP&A
  department: Finance
  email: maria.garcia@company.com
  phone: +1 (555) 100-0009
  location: New York, NY
  supervisor: Emily Watson
  parentId: 3

- id: 10
  name: Christopher Lee
  title: Director of Brand Marketing
  department: Marketing
  email: christopher.lee@company.com
  phone: +1 (555) 100-0010
  location: Los Angeles, CA
  supervisor: David Kim
  parentId: 4

- id: 11
  name: Amanda Brown
  title: Director of Growth Marketing
  department: Marketing
  email: amanda.brown@company.com
  phone: +1 (555) 100-0011
  location: Austin, TX
  supervisor: David Kim
  parentId: 4

- id: 12
  name: Daniel Thompson
  title: Senior Engineering Manager
  department: Technology
  email: daniel.thompson@company.com
  phone: +1 (555) 100-0012
  location: San Francisco, CA
  supervisor: Jennifer Martinez
  parentId: 5

- id: 13
  name: Jessica White
  title: Engineering Manager - Frontend
  department: Technology
  email: jessica.white@company.com
  phone: +1 (555) 100-0013
  location: San Francisco, CA
  supervisor: Jennifer Martinez
  parentId: 5

- id: 14
  name: Kevin Harris
  title: Engineering Manager - Backend
  department: Technology
  email: kevin.harris@company.com
  phone: +1 (555) 100-0014
  location: San Francisco, CA
  supervisor: Jennifer Martinez
  parentId: 5

- id: 15
  name: Michelle Clark
  title: Senior Product Manager
  department: Technology
  email: michelle.clark@company.com
  phone: +1 (555) 100-0015
  location: San Francisco, CA
  supervisor: Robert Taylor
  parentId: 6

- id: 16
  name: Ryan Lewis
  title: Product Manager
  department: Technology
  email: ryan.lewis@company.com
  phone: +1 (555) 100-0016
  location: Remote
  supervisor: Robert Taylor
  parentId: 6

- id: 17
  name: Samantha Walker
  title: Lead Data Scientist
  department: Technology
  email: samantha.walker@company.com
  phone: +1 (555) 100-0017
  location: Seattle, WA
  supervisor: Lisa Anderson
  parentId: 7

- id: 18
  name: Brian Hall
  title: ML Engineer
  department: Technology
  email: brian.hall@company.com
  phone: +1 (555) 100-0018
  location: Seattle, WA
  supervisor: Lisa Anderson
  parentId: 7

- id: 19
  name: Nicole Young
  title: Senior Accountant
  department: Finance
  email: nicole.young@company.com
  phone: +1 (555) 100-0019
  location: New York, NY
  supervisor: James Wilson
  parentId: 8

- id: 20
  name: Andrew King
  title: Financial Analyst
  department: Finance
  email: andrew.king@company.com
  phone: +1 (555) 100-0020
  location: New York, NY
  supervisor: Maria Garcia
  parentId: 9

- id: 21
  name: Rachel Wright
  title: Content Marketing Manager
  department: Marketing
  email: rachel.wright@company.com
  phone: +1 (555) 100-0021
  location: Los Angeles, CA
  supervisor: Christopher Lee
  parentId: 10

- id: 22
  name: Justin Scott
  title: Performance Marketing Manager
  department: Marketing
  email: justin.scott@company.com
  phone: +1 (555) 100-0022
  location: Austin, TX
  supervisor: Amanda Brown
  parentId: 11

- id: 23
  name: Laura Green
  title: Senior Software Engineer
  department: Technology
  email: laura.green@company.com
  phone: +1 (555) 100-0023
  location: San Francisco, CA
  supervisor: Daniel Thompson
  parentId: 12

- id: 24
  name: Marcus Adams
  title: Software Engineer
  department: Technology
  email: marcus.adams@company.com
  phone: +1 (555) 100-0024
  location: San Francisco, CA
  supervisor: Daniel Thompson
  parentId: 12

- id: 25
  name: Olivia Baker
  title: Frontend Engineer
  department: Technology
  email: olivia.baker@company.com
  phone: +1 (555) 100-0025
  location: Remote
  supervisor: Jessica White
  parentId: 13

- id: 26
  name: Ethan Nelson
  title: Backend Engineer
  department: Technology
  email: ethan.nelson@company.com
  phone: +1 (555) 100-0026
  location: San Francisco, CA
  supervisor: Kevin Harris
  parentId: 14

- id: 27
  name: Sophia Carter
  title: DevOps Engineer
  department: Technology
  email: sophia.carter@company.com
  phone: +1 (555) 100-0027
  location: Seattle, WA
  supervisor: Kevin Harris
  parentId: 14

- id: 28
  name: Tyler Mitchell
  title: UX Designer
  department: Technology
  email: tyler.mitchell@company.com
  phone: +1 (555) 100-0028
  location: San Francisco, CA
  supervisor: Michelle Clark
  parentId: 15

- id: 29
  name: Isabella Perez
  title: Data Analyst
  department: Technology
  email: isabella.perez@company.com
  phone: +1 (555) 100-0029
  location: Seattle, WA
  supervisor: Samantha Walker
  parentId: 17

- id: 30
  name: Nathan Roberts
  title: Marketing Coordinator
  department: Marketing
  email: nathan.roberts@company.com
  phone: +1 (555) 100-0030
  location: Austin, TX
  supervisor: Justin Scott
  parentId: 22
`;

        function initializeYChartEditor() {
            console.log('üöÄ Initializing YChart Editor...');
            
            // Initialize YChart Editor with beautiful configuration
            const editor = new window.YChartEditor({
                nodeWidth: 250,
                nodeHeight: 120,
                editorTheme: 'dark',
                collapsible: true,
                toolbarPosition: 'bottomleft',
                toolbarOrientation: 'horizontal'
            });

            // Setup the editor
            editor
                .initView('ychart-container', yamlData)
                .bgPatternStyle('dotted')
                .actionBtnPos('bottomleft', 'horizontal');

            console.log('‚úÖ YChart Editor initialized successfully!');
            console.log('üí° Tips:');
            console.log('   - Click nodes to view details');
            console.log('   - Use toolbar buttons to expand/collapse, export, etc.');
            console.log('   - Edit YAML in the right panel to update the chart');
            console.log('   - Drag nodes to pan, scroll to zoom');
            
            // Make it accessible globally
            window.ychartEditor = editor;
            
            // Auto-fit after a short delay
            setTimeout(() => {
                if (editor && editor.orgChart) {
                    console.log('üìê Auto-fitting chart to viewport...');
                }
            }, 500);
        }
        
        // Initialize when page loads
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initializeYChartEditor);
        } else {
            initializeYChartEditor();
        }
    </script>
</body>
</html>
